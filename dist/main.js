(()=>{var e={785:()=>{const e=document.querySelectorAll(".img"),t=document.querySelectorAll(".dot");let o=0;setInterval((function(){e[o].classList.remove("img_active"),t[o].classList.remove("dot_active"),o++,o>=e.length&&(o=0),e[o].classList.add("img_active"),t[o].classList.add("dot_active");}),5e3),t.forEach(((n,i)=>{n.addEventListener("click",(()=>{e[o].classList.remove("img_active"),t[o].classList.remove("dot_active"),o=i,e[o].classList.add("img_active"),t[o].classList.add("dot_active");}));}));}},t={};function o(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,o),a.exports;}(()=>{"use strict";o(785);let e=[],t=document.querySelector(".countBookInCart");function n(){localStorage.setItem("BookInCart",JSON.stringify(e));}const i=document.querySelectorAll(".books__categories_link"),a=document.querySelector(".books__cards"),s=document.querySelector(".btn_loadMore"),l='<svg width="12" height="11" viewBox="0 0 12 11" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M6 0L7.80568 3.5147L11.7063 4.1459L8.92165 6.9493L9.52671 10.8541L6 9.072L2.47329 10.8541L3.07835 6.9493L0.293661 4.1459L4.19432 3.5147L6 0Z" fill="#F2C94C"/>\n</svg>';let r=0,c="Architecture",d="BUY NOW",v="https://www.googleapis.com/books/v1/volumes?key=AIzaSyCD8pbuLqrpZzOGbCfm17GqVL-RX7nNPxU&printType=books&&maxResults=6&langRestrict=en";async function u(){(await fetch(v+`&q=${c}&startIndex=${r}`).then((e=>{return e.json();}))).items.forEach((t=>{let o=`<div class="book_container">\n                        <img class="${t.volumeInfo?.imageLinks?.thumbnail?"book_img":"book_placeholder"}" src="${t.volumeInfo?.imageLinks?.thumbnail}" alt="Book card"></img>\n                        <div class="book_info">\n                            <p class="${t.volumeInfo?.authors?"book_author":"display-none"}">${t.volumeInfo?.authors}</p>\n                            <h2 class="book_title">${t.volumeInfo?.title}</h2>\n                            <div class="${t.volumeInfo?.averageRating?"book_rating":"display-none"}">\n                                <div class="${t.volumeInfo?.averageRating?"book_rating-stars":"display-none"}">${t.volumeInfo?.averageRating?function(e){let t="";for(let o=0;o<5;o++)o<e&&(t+=l);return t;}(t.volumeInfo.averageRating):"no rating"}</div>\n                                <div class="${t.volumeInfo?.ratingsCount?"book_rating-review":"display-none"}">${t.volumeInfo?.ratingsCount} review</div>\n                            </div>\n                            <div class="book_description">${t.volumeInfo?.description?t.volumeInfo?.description:"No description"}</div>\n                            <div class="${t.saleInfo?.retailPrice?.amount?"book_price":"display-none"}">${t.saleInfo?.retailPrice?.amount} ${t.saleInfo?.retailPrice?.currencyCode}</div>\n                            <button class="${function(t){let o=!1;for(let n=0;n<=e.length;n++)t===e[n]&&(o=!0);return o;}(t.id)?"book_btn book_btn-inTheCart":"book_btn"}" id="${t.id}">${d}</button>\n                        </div>\n                    </div>`;a.innerHTML+=o;})),function(){let o=document.querySelectorAll(".book_btn");o.forEach((i=>{i.addEventListener("click",(a=>{if(o=a.target.closest(".book_btn"),o.classList.toggle("book_btn-inTheCart"),o.classList.contains("book_btn-inTheCart"))o.innerHTML="IN THE CART",e.push(i.id),n(),t.innerText=e.length;else{o.innerHTML="BUY NOW";let a=e.indexOf(i.id);e.splice(a,1),n(),t.innerText=e.length;}}));}));}();}document.addEventListener("DOMContentLoaded",(function(){localStorage.BookInCart?(t.innerText=JSON.parse(localStorage.getItem("BookInCart")).length,e=JSON.parse(localStorage.getItem("BookInCart"))):(t.innerText=0,e=[]),u(),s.addEventListener("click",(()=>{r+=6,u();})),i.forEach((e=>{e.addEventListener("click",(t=>{let o=t.target.closest(".books__categories_link");document.querySelector(".books__categories_link.link_active").classList.remove("link_active"),o.classList.add("link_active"),e.classList.contains("link_active")&&(o=e.innerText),a.innerHTML="",c=`${o}`,r=0,u();}));}));}));})();})();
//# sourceMappingURL=main.js.map